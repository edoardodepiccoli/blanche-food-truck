<%= form_with data: { controller: "geocoding", geocoding_mapbox_access_token_value: ENV.fetch("MAPBOX_ACCESS_TOKEN") }, model: stop do |form| %>
  <div>
    <%= form.label :name %>
    <%= form.text_field :name %>
  </div>
  <div>
    <%= form.label :whatsapp_group_url %>
    <%= form.text_field :whatsapp_group_url %>
  </div>
  <div>
    <%= form.label :start_datetime %>
    <%= form.datetime_field :start_datetime %>
  </div>
  <div>
    <%= form.label :end_datetime %>
    <%= form.datetime_field :end_datetime %>
  </div>
  <div>
    <%= form.label :address %>
    <%= form.text_field :address, data: { geocoding_target: "address" } %>
  </div>
  <button type="button" data-action="geocoding#getCoordinates">Get Coordinates</button>
  <p data-geocoding-target="coordinates">Coordinate non impostate</p>
  <div>
    <%= form.hidden_field :latitude, data: { geocoding_target: "latitude" } %>
  </div>
  <div>
    <%= form.hidden_field :longitude, data: { geocoding_target: "longitude" } %>
  </div>
  <div>
    <%= form.submit %>
  </div>
<% end %>
